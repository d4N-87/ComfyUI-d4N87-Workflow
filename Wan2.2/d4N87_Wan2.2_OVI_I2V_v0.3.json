{
  "id": "7200c272-1c07-4834-9c36-c6ec5c140c21",
  "revision": 0,
  "last_node_id": 143,
  "last_link_id": 235,
  "nodes": [
    {
      "id": 87,
      "type": "WanVideoVAELoader",
      "pos": [
        -2080.236683122558,
        416.9905641540532
      ],
      "size": [
        350.5255126953125,
        88.4420394897461
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "name": "compile_args",
          "shape": 7,
          "type": "WANCOMPILEARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "links": [
            224
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "1d940825636db49d5299e4f9634da6a8c36e26b8",
        "Node name for S&R": "WanVideoVAELoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Wan2.2\\Wan2.2_VAE.safetensors",
        "bf16"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 91,
      "type": "WanVideoTorchCompileSettings",
      "pos": [
        -2082.013262607263,
        3.011628700232119
      ],
      "size": [
        342.74609375,
        226
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "torch_compile_args",
          "type": "WANCOMPILEARGS",
          "links": [
            164
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "Node name for S&R": "WanVideoTorchCompileSettings",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "inductor",
        false,
        "default",
        false,
        64,
        true,
        128,
        true
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 134,
      "type": "PrimitiveInt",
      "pos": [
        -2070.499107139441,
        1105.7023396491516
      ],
      "size": [
        344.93621428053075,
        82
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            216
          ]
        }
      ],
      "title": "Frame Count",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.65",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.3"
        }
      },
      "widgets_values": [
        121,
        "fixed"
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 140,
      "type": "Note",
      "pos": [
        -2070.5186389566247,
        1223.7103756932559
      ],
      "size": [
        347.7462521933255,
        88
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Il modello è stato addestrato a 720×720, ma è possibile scegliere praticamente ogni risoluzione."
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 130,
      "type": "PrimitiveInt",
      "pos": [
        -2074.363119027077,
        868.2221445380881
      ],
      "size": [
        349.6198423146045,
        82
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            227
          ]
        }
      ],
      "title": "Width",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.65",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.3"
        }
      },
      "widgets_values": [
        832,
        "fixed"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 133,
      "type": "PrimitiveInt",
      "pos": [
        -2072.684875260109,
        986.9036936166066
      ],
      "size": [
        347.6684348533229,
        82
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            228
          ]
        }
      ],
      "title": "Height",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.65",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {},
          "version": "7.3"
        }
      },
      "widgets_values": [
        480,
        "fixed"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 141,
      "type": "Reroute",
      "pos": [
        -1705.4249233800779,
        869.164782437824
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 227
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            229,
            231
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 142,
      "type": "Reroute",
      "pos": [
        -1705.1092076743544,
        987.1194725339905
      ],
      "size": [
        75,
        26
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "widget": {
            "name": "value"
          },
          "link": 228
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "INT",
          "links": [
            230,
            232
          ]
        }
      ],
      "properties": {
        "showOutputText": false,
        "horizontal": false
      },
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 138,
      "type": "Reroute",
      "pos": [
        -1712.815814637731,
        417.6242532678037
      ],
      "size": [
        90.4,
        26
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 224
        }
      ],
      "outputs": [
        {
          "name": "WANVAE",
          "type": "WANVAE",
          "links": [
            225,
            226
          ]
        }
      ],
      "properties": {
        "showOutputText": true,
        "horizontal": false
      },
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 110,
      "type": "ImageResizeKJv2",
      "pos": [
        -1293.1050916780773,
        868.216170526048
      ],
      "size": [
        270,
        360.0000000000001
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 223
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 231
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 232
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            194
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": []
        },
        {
          "name": "height",
          "type": "INT",
          "links": []
        },
        {
          "name": "mask",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "1.1.7",
        "Node name for S&R": "ImageResizeKJv2",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        832,
        480,
        "lanczos",
        "crop",
        "0, 0, 0",
        "center",
        32,
        "cpu"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 120,
      "type": "Note",
      "pos": [
        -964.0647871331696,
        -120.64596227430803
      ],
      "size": [
        565.0467898213356,
        137.69975953707558
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Come molti modelli di questo tipo, purtroppo l'italiano viene particolarmente male, a parte alcune eccezioni. Fargli dire una frase in inglese sicuramente darà risultati migliori.\nOvi usa lo stesso prompt positivo per entrambi i modelli, deve essere descritto il soggetto (conviene partire da un'immagine) e che frase dovrà dire, per farglielo capire questa frase andrà messa fra <S> (start) e <E> (end).\nPer aggiungere dettagli sull'audio, la descrizione va aggiunta fra <AUDCAP> e <ENDAUDCAP>.\nNel nodo dedicato ai negative_text_embeds, nel negative andrà messo ciò che non dovrà fare come audio."
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 137,
      "type": "Note",
      "pos": [
        -2082.8230963400174,
        685.3108101009469
      ],
      "size": [
        352.4687958194761,
        88
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Qui viene caricato il VAE di Wan2.2."
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 118,
      "type": "WanVideoEasyCache",
      "pos": [
        270.71245741681565,
        331.3946721788473
      ],
      "size": [
        270,
        130
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "cache_args",
          "type": "CACHEARGS",
          "links": [
            210
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "6aa044670670b56901e40ad77c31059659b295c5",
        "Node name for S&R": "WanVideoEasyCache",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0.015,
        10,
        -1,
        "offload_device"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 93,
      "type": "WanVideoSLG",
      "pos": [
        271.1005169721148,
        496.6514378383115
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "slg_args",
          "type": "SLGARGS",
          "links": [
            191
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "Node name for S&R": "WanVideoSLG",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "11",
        0,
        1
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 81,
      "type": "WanVideoEmptyEmbeds",
      "pos": [
        270.46890310267287,
        76.58369749406714
      ],
      "size": [
        267.81922298924314,
        126
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "control_embeds",
          "shape": 7,
          "type": "WANVIDIMAGE_EMBEDS",
          "link": null
        },
        {
          "name": "extra_latents",
          "shape": 7,
          "type": "LATENT",
          "link": 195
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 229
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 230
        },
        {
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          },
          "link": 216
        }
      ],
      "outputs": [
        {
          "name": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "links": [
            178
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "Node name for S&R": "WanVideoEmptyEmbeds",
        "ue_properties": {
          "widget_ue_connectable": {
            "width": true,
            "height": true
          },
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        992,
        512,
        121
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 94,
      "type": "WanVideoOviCFG",
      "pos": [
        268.1210230616736,
        -38.225604583293425
      ],
      "size": [
        272.82880983256075,
        78
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "original_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "link": 167
        },
        {
          "name": "ovi_negative_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "link": 169
        }
      ],
      "outputs": [
        {
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "links": [
            170
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "Node name for S&R": "WanVideoOviCFG",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        3
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 84,
      "type": "WanVideoSetBlockSwap",
      "pos": [
        269.78236854598146,
        -121.73381301577022
      ],
      "size": [
        266.08648627266416,
        46
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "link": 152
        },
        {
          "name": "block_swap_args",
          "shape": 7,
          "type": "BLOCKSWAPARGS",
          "link": 154
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "links": [
            153
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "Node name for S&R": "WanVideoSetBlockSwap",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 83,
      "type": "WanVideoBlockSwap",
      "pos": [
        -37.031927188898415,
        -116.49914820170684
      ],
      "size": [
        281.404296875,
        202
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "links": [
            154
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "Node name for S&R": "WanVideoBlockSwap",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        15,
        false,
        false,
        true,
        0,
        1,
        false
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 111,
      "type": "WanVideoEncode",
      "pos": [
        -344.1902221289059,
        -110.80365126884077
      ],
      "size": [
        270,
        242
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 225
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 194
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            195
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "6aa044670670b56901e40ad77c31059659b295c5",
        "Node name for S&R": "WanVideoEncode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        false,
        272,
        272,
        144,
        128,
        0,
        1
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 90,
      "type": "WanVideoDecodeOviAudio",
      "pos": [
        946.6073045043923,
        -115.90944162750246
      ],
      "size": [
        221.3249969482422,
        46
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "mmaudio_vae",
          "type": "MMAUDIOVAE",
          "link": 161
        },
        {
          "name": "samples",
          "type": "LATENT",
          "link": 162
        }
      ],
      "outputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "links": [
            233
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "Node name for S&R": "WanVideoDecodeOviAudio",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 143,
      "type": "Reroute",
      "pos": [
        1188.358326343521,
        -115.63938249849956
      ],
      "size": [
        82,
        26
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 233
        }
      ],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            234,
            235
          ]
        }
      ],
      "properties": {
        "showOutputText": true,
        "horizontal": false
      },
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 86,
      "type": "WanVideoDecode",
      "pos": [
        1310.2957037784074,
        -123.08625960582386
      ],
      "size": [
        270,
        198
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "vae",
          "type": "WANVAE",
          "link": 226
        },
        {
          "name": "samples",
          "type": "LATENT",
          "link": 158
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            160
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "1d940825636db49d5299e4f9634da6a8c36e26b8",
        "Node name for S&R": "WanVideoDecode",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        false,
        272,
        272,
        144,
        128,
        "default"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 88,
      "type": "VHS_VideoCombine",
      "pos": [
        1649.8701615767043,
        6.623257723721673
      ],
      "size": [
        903.5481567382812,
        334
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 160
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 235
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-videohelpersuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530",
        "Node name for S&R": "VHS_VideoCombine",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": {
        "frame_rate": 24,
        "loop_count": 0,
        "filename_prefix": "WanVideo_Ovi",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 12,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "WanVideo_Ovi_00002-audio.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 24,
            "workflow": "WanVideo_Ovi_00002.png",
            "fullpath": "D:\\AI\\ComfyUI\\ComfyUI\\output\\WanVideo_Ovi_00002-audio.mp4"
          }
        }
      },
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 125,
      "type": "WanVideoEmptyMMAudioLatents",
      "pos": [
        270.55838976581424,
        238.0379503659472
      ],
      "size": [
        268.8697140587651,
        58
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            211
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "6aa044670670b56901e40ad77c31059659b295c5",
        "Node name for S&R": "WanVideoEmptyMMAudioLatents",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        157
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 139,
      "type": "Note",
      "pos": [
        -2079.536510450349,
        -123.80244752557039
      ],
      "size": [
        1021.6573764219211,
        88
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Qui avviene il caricamento del modello Ovi Video, in base a quello che scegliete si può impostare la quantization.\nIl nodo Torch e l'impostazione sageattn in attention_mode, possono essere utilizzati esclusivamente se è stato installato Triton e Sage Attention e sono presenti i PyTorch sopra alla versione 2.7.0, in caso contrario disattivare entrambi."
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 78,
      "type": "WanVideoExtraModelSelect",
      "pos": [
        -2083.5950060582622,
        265.64655930687707
      ],
      "size": [
        412.5594177246094,
        58
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "prev_model",
          "shape": 7,
          "type": "VACEPATH",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "extra_model",
          "type": "VACEPATH",
          "links": [
            157
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "Node name for S&R": "WanVideoExtraModelSelect",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Wan2.2_Ovi\\Wan2.2_Ovi_Audio_FP8_e4m3fn_scaled.safetensors"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 108,
      "type": "PreviewAudio",
      "pos": [
        1650.5542223011369,
        -127.96062755237932
      ],
      "size": [
        424.87999999999965,
        88
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "audio",
          "type": "AUDIO",
          "link": 234
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.65",
        "Node name for S&R": "PreviewAudio",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 12,
      "type": "WanVideoModelLoader",
      "pos": [
        -1658.3295931908062,
        2.0507807858571527
      ],
      "size": [
        609.2658081054688,
        318
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "compile_args",
          "shape": 7,
          "type": "WANCOMPILEARGS",
          "link": 164
        },
        {
          "name": "block_swap_args",
          "shape": 7,
          "type": "BLOCKSWAPARGS",
          "link": null
        },
        {
          "name": "lora",
          "shape": 7,
          "type": "WANVIDLORA",
          "link": null
        },
        {
          "name": "vram_management_args",
          "shape": 7,
          "type": "VRAM_MANAGEMENTARGS",
          "link": null
        },
        {
          "name": "extra_model",
          "shape": 7,
          "type": "VACEPATH",
          "link": 157
        },
        {
          "name": "fantasytalking_model",
          "shape": 7,
          "type": "FANTASYTALKINGMODEL",
          "link": null
        },
        {
          "name": "multitalk_model",
          "shape": 7,
          "type": "MULTITALKMODEL",
          "link": null
        },
        {
          "name": "fantasyportrait_model",
          "shape": 7,
          "type": "FANTASYPORTRAITMODEL",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "links": [
            152
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "37365817e82c3d6057fcb0a5d7f952f7376f096a",
        "Node name for S&R": "WanVideoModelLoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Wan2.2_Ovi\\Wan2.2_Ovi_Video_FP8_e4m3fn_scaled.safetensors",
        "bf16",
        "disabled",
        "offload_device",
        "sageattn",
        "default"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 109,
      "type": "LoadImage",
      "pos": [
        -1585.2397832756412,
        868.1482124151505
      ],
      "size": [
        274.07501220703125,
        314.0000000000001
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            223
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.65",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "man.jpg",
        "image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 85,
      "type": "WanVideoTextEncodeCached",
      "pos": [
        -958.1867910271612,
        62.275427856399915
      ],
      "size": [
        569.788818359375,
        595.4622192382812
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "extender_args",
          "shape": 7,
          "type": "WANVIDEOPROMPTEXTENDER_ARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "links": [
            167
          ]
        },
        {
          "name": "negative_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "links": null
        },
        {
          "name": "positive_prompt",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "Node name for S&R": "WanVideoTextEncodeCached",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "UMT5-xxl_FP8.safetensors",
        "bf16",
        "A man exclaiming <S>Ciao ragazzi e bentornati sul canale!<E>. He moves his arms to make sense of the speech. <AUDCAP>Clear man voice speaking dialogue, subtle outdoor ambience.<ENDAUDCAP>",
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
        "disabled",
        false,
        "gpu"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 96,
      "type": "WanVideoTextEncodeCached",
      "pos": [
        -957.1054521496711,
        694.7377491708864
      ],
      "size": [
        571.0747619862773,
        592.638182328566
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "extender_args",
          "shape": 7,
          "type": "WANVIDEOPROMPTEXTENDER_ARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "links": []
        },
        {
          "name": "negative_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "links": [
            169
          ]
        },
        {
          "name": "positive_prompt",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "Node name for S&R": "WanVideoTextEncodeCached",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "UMT5-xxl_FP8.safetensors",
        "bf16",
        "",
        "robotic, muffled, echo, distorted",
        "disabled",
        true,
        "gpu"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 80,
      "type": "WanVideoSampler",
      "pos": [
        586.8135726635884,
        -120.53235070671701
      ],
      "size": [
        327.80859375,
        902
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "WANVIDEOMODEL",
          "link": 153
        },
        {
          "name": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "link": 178
        },
        {
          "name": "text_embeds",
          "shape": 7,
          "type": "WANVIDEOTEXTEMBEDS",
          "link": 170
        },
        {
          "name": "samples",
          "shape": 7,
          "type": "LATENT",
          "link": 211
        },
        {
          "name": "feta_args",
          "shape": 7,
          "type": "FETAARGS",
          "link": null
        },
        {
          "name": "context_options",
          "shape": 7,
          "type": "WANVIDCONTEXT",
          "link": null
        },
        {
          "name": "cache_args",
          "shape": 7,
          "type": "CACHEARGS",
          "link": 210
        },
        {
          "name": "flowedit_args",
          "shape": 7,
          "type": "FLOWEDITARGS",
          "link": null
        },
        {
          "name": "slg_args",
          "shape": 7,
          "type": "SLGARGS",
          "link": 191
        },
        {
          "name": "loop_args",
          "shape": 7,
          "type": "LOOPARGS",
          "link": null
        },
        {
          "name": "experimental_args",
          "shape": 7,
          "type": "EXPERIMENTALARGS",
          "link": null
        },
        {
          "name": "sigmas",
          "shape": 7,
          "type": "SIGMAS",
          "link": null
        },
        {
          "name": "unianimate_poses",
          "shape": 7,
          "type": "UNIANIMATE_POSE",
          "link": null
        },
        {
          "name": "fantasytalking_embeds",
          "shape": 7,
          "type": "FANTASYTALKING_EMBEDS",
          "link": null
        },
        {
          "name": "uni3c_embeds",
          "shape": 7,
          "type": "UNI3C_EMBEDS",
          "link": null
        },
        {
          "name": "multitalk_embeds",
          "shape": 7,
          "type": "MULTITALK_EMBEDS",
          "link": null
        },
        {
          "name": "freeinit_args",
          "shape": 7,
          "type": "FREEINITARGS",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "links": [
            158,
            162
          ]
        },
        {
          "name": "denoised_samples",
          "type": "LATENT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "Node name for S&R": "WanVideoSampler",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        50,
        4,
        5,
        529195901145592,
        "randomize",
        true,
        "unipc",
        0,
        1,
        false,
        "default",
        0,
        -1,
        false
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 126,
      "type": "Note",
      "pos": [
        -34.827044436928205,
        121.51619076894751
      ],
      "size": [
        282.07249544168565,
        478.52061933579057
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "In questo blocco ci sono varie impostazioni e ottimizzazioni relative all'elaborazione, come il BlockSwap, l'EasyCache, ecc.\n\nQueste sono le impostazioni consigliate direttamente dalla pagina GitHub di Ovi.\n\nNel nodo WanVideo Empty MMAudio Latent, il valore di default per un video lungo 121 è 157.\n"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 89,
      "type": "OviMMAudioVAELoader",
      "pos": [
        -2082.9053335530207,
        541.8929092375962
      ],
      "size": [
        354.093965274742,
        106
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "mmaudio_vae",
          "type": "MMAUDIOVAE",
          "links": [
            161
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "Node name for S&R": "OviMMAudioVAELoader",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.3",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Mmmaudio\\mmaudio_VAE_16k_FP32.safetensors",
        "Mmmaudio\\mmaudio_vocoder_bigvgan_best_netG_FP32.safetensors",
        "bf16"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 136,
      "type": "MarkdownNote",
      "pos": [
        -2545.9315077699534,
        -165.80016194942215
      ],
      "size": [
        406.5835278802035,
        542.2718516694378
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "## Model links\n\n**diffusion_models**       \n- [Wan_2_2_Ovi_video_model_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Ovi/Wan_2_2_Ovi_video_model_bf16.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi)\n- [Wan_2_2_Ovi_audio_model_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Ovi/Wan_2_2_Ovi_audio_model_bf16.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi)\n- [Wan2_2_Ovi_Video_fp8_e4m3fn_scaled_KJ.safetensors](https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/resolve/main/TI2V/Ovi/Wan2_2_Ovi_Video_fp8_e4m3fn_scaled_KJ.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/tree/main/TI2V/Ovi)\n- [Wan2_2_Ovi_Audio_fp8_e4m3fn_scaled_KJ.safetensors](https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/resolve/main/TI2V/Ovi/Wan2_2_Ovi_Audio_fp8_e4m3fn_scaled_KJ.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/tree/main/TI2V/Ovi)\n\n**text_encoders**   \n- [umt5_xxl_fp16.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/blob/main/split_files/text_encoders/umt5_xxl_fp16.safetensors) - [repository HF](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/tree/main/split_files/text_encoders)\n- [umt5_xxl_fp8.safetensors](https://huggingface.co/Anyfusion/umt5-xxl-encoder-fp8/resolve/main/model.safetensors?download=true) - [repository HF](https://huggingface.co/Anyfusion/umt5-xxl-encoder-fp8/tree/main)\n\n**vae**\n- [mmaudio_vae_16k_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Ovi/mmaudio_vae_16k_bf16.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi)\n- [mmaudio_vae_16k_fp32.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Ovi/mmaudio_vae_16k_fp32.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi)\n- [mmaudio_vocoder_bigvgan_best_netG_fp32.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Ovi/mmaudio_vocoder_bigvgan_best_netG_fp32.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi)\n- [mmaudio_vocoder_bigvgan_best_netG_bf16.safetensors](https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/Ovi/mmaudio_vocoder_bigvgan_best_netG_bf16.safetensors?download=true) - [repository HF](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi)\n- [wan2.2_vae.safetensors](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/resolve/main/split_files/vae/wan2.2_vae.safetensors?download=true) - [repository HF](https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_Repackaged/tree/main/split_files/vae)\n\n___\n\n## Folders\n\n```\nComfyUI/\n├───📂 models/\n│   ├───📂 diffusion_models/\n│   │   ├─── Wan_2_2_Ovi_video_model_bf16.safetensors\n│   │   ├─── Wan_2_2_Ovi_audio_model_bf16.safetensors\n│   │   ├─── Wan2_2_Ovi_Video_fp8_e4m3fn_scaled_KJ.safetensors\n│   │   └─── Wan2_2_Ovi_Audio_fp8_e4m3fn_scaled_KJ.safetensors\n│   ├───📂 text_encoders/\n│   │   ├─── umt5_xxl_fp16.safetensors\n│   │   └─── umt5_xxl_fp8.safetensors\n│   └───📂 vae/\n│       ├─── mmaudio_vae_16k_bf16.safetensors\n│       ├─── mmaudio_vae_16k_fp32.safetensors\n│       ├─── mmaudio_vocoder_bigvgan_best_netG_fp32.safetensors\n│       ├─── mmaudio_vocoder_bigvgan_best_netG_bf16.safetensors\n│       └─── wan2.2_vae.safetensors\n```\n"
      ],
      "color": "#222",
      "bgcolor": "#000"
    }
  ],
  "links": [
    [
      152,
      12,
      0,
      84,
      0,
      "WANVIDEOMODEL"
    ],
    [
      153,
      84,
      0,
      80,
      0,
      "WANVIDEOMODEL"
    ],
    [
      154,
      83,
      0,
      84,
      1,
      "BLOCKSWAPARGS"
    ],
    [
      157,
      78,
      0,
      12,
      4,
      "VACEPATH"
    ],
    [
      158,
      80,
      0,
      86,
      1,
      "LATENT"
    ],
    [
      160,
      86,
      0,
      88,
      0,
      "IMAGE"
    ],
    [
      161,
      89,
      0,
      90,
      0,
      "MMAUDIOVAE"
    ],
    [
      162,
      80,
      0,
      90,
      1,
      "LATENT"
    ],
    [
      164,
      91,
      0,
      12,
      0,
      "WANCOMPILEARGS"
    ],
    [
      167,
      85,
      0,
      94,
      0,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      169,
      96,
      1,
      94,
      1,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      170,
      94,
      0,
      80,
      2,
      "WANVIDEOTEXTEMBEDS"
    ],
    [
      178,
      81,
      0,
      80,
      1,
      "WANVIDIMAGE_EMBEDS"
    ],
    [
      191,
      93,
      0,
      80,
      8,
      "SLGARGS"
    ],
    [
      194,
      110,
      0,
      111,
      1,
      "IMAGE"
    ],
    [
      195,
      111,
      0,
      81,
      1,
      "LATENT"
    ],
    [
      210,
      118,
      0,
      80,
      6,
      "CACHEARGS"
    ],
    [
      211,
      125,
      0,
      80,
      3,
      "LATENT"
    ],
    [
      216,
      134,
      0,
      81,
      4,
      "INT"
    ],
    [
      223,
      109,
      0,
      110,
      0,
      "IMAGE"
    ],
    [
      224,
      87,
      0,
      138,
      0,
      "*"
    ],
    [
      225,
      138,
      0,
      111,
      0,
      "WANVAE"
    ],
    [
      226,
      138,
      0,
      86,
      0,
      "WANVAE"
    ],
    [
      227,
      130,
      0,
      141,
      0,
      "*"
    ],
    [
      228,
      133,
      0,
      142,
      0,
      "*"
    ],
    [
      229,
      141,
      0,
      81,
      2,
      "INT"
    ],
    [
      230,
      142,
      0,
      81,
      3,
      "INT"
    ],
    [
      231,
      141,
      0,
      110,
      2,
      "INT"
    ],
    [
      232,
      142,
      0,
      110,
      3,
      "INT"
    ],
    [
      233,
      90,
      0,
      143,
      0,
      "*"
    ],
    [
      234,
      143,
      0,
      108,
      0,
      "AUDIO"
    ],
    [
      235,
      143,
      0,
      88,
      1,
      "AUDIO"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "VAE - d4N87",
      "bounding": [
        -2090.236683122558,
        346.19056415405316,
        367.52020763508995,
        433.2564591735562
      ],
      "color": "#A88",
      "font_size": 22,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Caricamento Modello - d4N87",
      "bounding": [
        -2093.5950060582622,
        -194.60244752557034,
        1054.5312209729277,
        528.2490068324477
      ],
      "color": "#3f789e",
      "font_size": 22,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Risoluzione e Frame - d4N87",
      "bounding": [
        -2084.363119027077,
        797.4221445380877,
        371.5907322637779,
        524.2882311551684
      ],
      "color": "#8A8",
      "font_size": 22,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Caricamento immagine - d4N87",
      "bounding": [
        -1595.2397832756412,
        797.3482124151501,
        582.1346915975639,
        440.86795811089763
      ],
      "color": "#8AA",
      "font_size": 22,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Prompt - d4N87",
      "bounding": [
        -974.0647871331696,
        -191.44596227430824,
        598.0340969697758,
        1488.8218937737608
      ],
      "color": "#8A8",
      "font_size": 22,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Moduli elaborazione - d4N87",
      "bounding": [
        -47.03192718889836,
        -192.53381301577028,
        598.1324441610129,
        805.1852508540816
      ],
      "color": "#b06634",
      "font_size": 22,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Elaborazione - d4N87",
      "bounding": [
        576.8135726635884,
        -191.33235070671716,
        347.80859375,
        982.8
      ],
      "color": "#3f789e",
      "font_size": 22,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1.2100000000000006,
      "offset": [
        2784.1471806660616,
        351.0883903938644
      ]
    },
    "frontendVersion": "1.28.7",
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "node_versions": {
      "ComfyUI-WanVideoWrapper": "da43a516839b7bc50b21f53f1c4551862c872eac",
      "ComfyUI-KJNodes": "3fcd22f2fe2be69c3229f192362b91888277cbcb",
      "comfy-core": "0.3.64",
      "comfyui-videohelpersuite": "8e4d79471bf1952154768e8435a9300077b534fa"
    },
    "ue_links": [],
    "links_added_by_ue": []
  },
  "version": 0.4
}